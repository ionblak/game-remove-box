{"version":3,"sources":["webpack:///./js/utils.js","webpack:///./js/game.js"],"names":["getRandomIntInclusive","min","max","Math","ceil","floor","random","getRandColor","color","pow","toString","length","refs","startButton","document","querySelector","veiwPort","timer","modal","saveButton","points","modalPointsField","modalInput","recordsList","time","totalPoints","name","createBoxes","amount","i","positionTop","positionLeft","box","createElement","size","setAttribute","appendChild","addEventListener","timerId","setInterval","textContent","clearInterval","firstChild","remove","clearAllboxes","classList","add","startTimer","event","target","currentTarget","currentBoxRef","value","insertAdjacentHTML","preventDefault"],"mappings":"oMAAA,SAASA,EAAsBC,EAAKC,GAGlC,OAFAD,EAAME,KAAKC,KAAKH,GAChBC,EAAMC,KAAKE,MAAMH,GACVC,KAAKE,MAAMF,KAAKG,UAAYJ,EAAMD,EAAM,IAAMA,EAGvD,SAASM,IAEP,IADA,IAAIC,EAAQL,KAAKE,MAAMF,KAAKG,SAAWH,KAAKM,IAAI,IAAK,IAAIC,SAAS,IAC3DF,EAAMG,OAAS,GACpBH,EAAQ,IAAMA,EAEhB,MAAO,IAAMA,ECTf,IAAMI,EAAO,CACXC,YAAaC,SAASC,cAAc,mBACpCC,SAAUF,SAASC,cAAc,gBACjCE,MAAOH,SAASC,cAAc,UAC9BG,MAAOJ,SAASC,cAAc,aAC9BI,WAAYL,SAASC,cAAc,qBACnCK,OAAQN,SAASC,cAAc,cAC/BM,iBAAkBP,SAASC,cAAc,iBACzCO,WAAYR,SAASC,cAAc,iBACnCQ,YAAaT,SAASC,cAAc,UAGlCS,EAAO,IACPC,EAAc,KACdC,EAAO,GAoDX,SAASC,IAGP,IAFA,IAAMC,EAAS5B,EAAsB,EAAG,GAE/B6B,EAAI,EAAGA,EAAID,EAAQC,GAAK,EAAG,CAClC,IAAMC,EAAc9B,EAAsB,EAAG,IACvC+B,EAAe/B,EAAsB,GAAI,GACzCgC,EAAMlB,SAASmB,cAAc,OAC7BC,EAAOlC,EAAsB,GAAI,IACvCgC,EAAIG,aACF,QADF,UAEYD,EAFZ,eAE+BA,EAF/B,sCAG4BJ,EAH5B,YAGmDC,EAHnD,wBAGuFxB,KAEvFK,EAAKI,SAASoB,YAAYJ,IA/D9BpB,EAAKC,YAAYwB,iBAAiB,SAgBlC,WAIE,OAHc,EACdV,SAKF,WACE,IAAMW,EAAUC,aAAY,WAC1Bf,GAAQ,IACRZ,EAAKK,MAAMuB,YAAchB,EAAO,IACnB,IAATA,IACFiB,cAAcH,GAuCpB,WACE,KAAO1B,EAAKI,SAAS0B,YACnB9B,EAAKI,SAAS0B,WAAWC,SAlC3BC,GACAhC,EAAKM,MAAM2B,UAAUC,IAAI,WACzBlC,EAAKS,iBAAiBmB,YAAcf,KANjC,KAZHsB,MAlBFnC,EAAKI,SAASqB,iBAAiB,SAG/B,SAA2BW,GACzB,GAAIA,EAAMC,SAAWD,EAAME,cACzB,OAEF,IAAMC,EAAgBH,EAAMC,OAC5BxB,GAAe,EACfb,EAAKQ,OAAOoB,YAAcf,EAE1B0B,EAAcR,SACdhB,OAXFf,EAAKO,WAAWkB,iBAAiB,SAsCjC,SAAoBW,GAClBtB,EAAOd,EAAKU,WAAW8B,MACvBxC,EAAKM,MAAM2B,UAAUF,OAAO,WAC5B/B,EAAKW,YAAY8B,mBACf,YADF,yBAE2B3B,EAF3B,aAE4CD,EAF5C,gBAIAuB,EAAMM,sB","file":"main.329434576d0f3ef23f90.js","sourcesContent":["function getRandomIntInclusive(min, max) {\r\n  min = Math.ceil(min);\r\n  max = Math.floor(max);\r\n  return Math.floor(Math.random() * (max - min + 1)) + min; //Максимум и минимум включаются\r\n}\r\n\r\nfunction getRandColor() {\r\n  var color = Math.floor(Math.random() * Math.pow(256, 3)).toString(16);\r\n  while (color.length < 6) {\r\n    color = '0' + color;\r\n  }\r\n  return '#' + color;\r\n}\r\nexport { getRandomIntInclusive, getRandColor };\r\n","import { getRandomIntInclusive, getRandColor } from './utils.js';\r\n\r\nconst refs = {\r\n  startButton: document.querySelector('.js-startButton'),\r\n  veiwPort: document.querySelector('.window-game'),\r\n  timer: document.querySelector('.timer'),\r\n  modal: document.querySelector('.lightbox'),\r\n  saveButton: document.querySelector('.js-modal__button'),\r\n  points: document.querySelector('.js-points'),\r\n  modalPointsField: document.querySelector('.modal-points'),\r\n  modalInput: document.querySelector('.form-control'),\r\n  recordsList: document.querySelector('.list'),\r\n};\r\nlet playingGame = false;\r\nlet time = 10000;\r\nlet totalPoints = null;\r\nlet name = '';\r\n\r\nrefs.startButton.addEventListener('click', startGame);\r\nrefs.veiwPort.addEventListener('click', clickDestroyBoxes);\r\nrefs.saveButton.addEventListener('click', savePoints);\r\n\r\nfunction clickDestroyBoxes(event) {\r\n  if (event.target === event.currentTarget) {\r\n    return;\r\n  }\r\n  const currentBoxRef = event.target;\r\n  totalPoints += 1;\r\n  refs.points.textContent = totalPoints;\r\n\r\n  currentBoxRef.remove();\r\n  createBoxes();\r\n}\r\n\r\nfunction startGame() {\r\n  playingGame = true;\r\n  createBoxes();\r\n  startTimer();\r\n  return;\r\n}\r\n\r\nfunction startTimer() {\r\n  const timerId = setInterval(() => {\r\n    time -= 1000;\r\n    refs.timer.textContent = time / 1000;\r\n    if (time === 0) {\r\n      clearInterval(timerId);\r\n      openModal();\r\n    }\r\n  }, 1000);\r\n}\r\n\r\nfunction openModal() {\r\n  clearAllboxes();\r\n  refs.modal.classList.add('is-open');\r\n  refs.modalPointsField.textContent = totalPoints;\r\n}\r\n\r\nfunction savePoints(event) {\r\n  name = refs.modalInput.value;\r\n  refs.modal.classList.remove('is-open');\r\n  refs.recordsList.insertAdjacentHTML(\r\n    'beforeend',\r\n    `<li class=\"list-item\">${name}..........${totalPoints} points</li>`,\r\n  );\r\n  event.preventDefault();\r\n}\r\n\r\nfunction createBoxes() {\r\n  const amount = getRandomIntInclusive(1, 3);\r\n\r\n  for (let i = 0; i < amount; i += 1) {\r\n    const positionTop = getRandomIntInclusive(5, 90);\r\n    const positionLeft = getRandomIntInclusive(90, 5);\r\n    const box = document.createElement('div');\r\n    const size = getRandomIntInclusive(10, 30);\r\n    box.setAttribute(\r\n      'style',\r\n      `width: ${size}px; height: ${size}px;\r\n     position: absolute; top: ${positionTop}%; left: ${positionLeft}%; background-color: ${getRandColor()}`,\r\n    );\r\n    refs.veiwPort.appendChild(box);\r\n  }\r\n}\r\n\r\nfunction clearAllboxes() {\r\n  while (refs.veiwPort.firstChild) {\r\n    refs.veiwPort.firstChild.remove();\r\n  }\r\n}\r\n"],"sourceRoot":""}