{"version":3,"sources":["webpack:///./js/utils.js","webpack:///./js/game.js"],"names":["getRandomIntInclusive","min","max","Math","ceil","floor","random","getRandColor","color","pow","toString","length","refs","startButton","document","querySelector","veiwPort","timer","modal","saveButton","points","modalPointsField","modalInput","recordsList","playingGame","time","totalPoints","name","createBoxes","amount","i","positionTop","positionLeft","box","createElement","size","setAttribute","appendChild","addEventListener","removeAttribute","timerId","setInterval","textContent","clearInterval","firstChild","remove","clearAllboxes","classList","add","event","target","currentTarget","currentBoxRef","value","insertAdjacentHTML","preventDefault"],"mappings":"oMAAA,SAASA,EAAsBC,EAAKC,GAGlC,OAFAD,EAAME,KAAKC,KAAKH,GAChBC,EAAMC,KAAKE,MAAMH,GACVC,KAAKE,MAAMF,KAAKG,UAAYJ,EAAMD,EAAM,IAAMA,EAGvD,SAASM,IAEP,IADA,IAAIC,EAAQL,KAAKE,MAAMF,KAAKG,SAAWH,KAAKM,IAAI,IAAK,IAAIC,SAAS,IAC3DF,EAAMG,OAAS,GACpBH,EAAQ,IAAMA,EAEhB,MAAO,IAAMA,ECTf,IAAMI,EAAO,CACXC,YAAaC,SAASC,cAAc,mBACpCC,SAAUF,SAASC,cAAc,gBACjCE,MAAOH,SAASC,cAAc,UAC9BG,MAAOJ,SAASC,cAAc,aAC9BI,WAAYL,SAASC,cAAc,qBACnCK,OAAQN,SAASC,cAAc,cAC/BM,iBAAkBP,SAASC,cAAc,iBACzCO,WAAYR,SAASC,cAAc,iBACnCQ,YAAaT,SAASC,cAAc,UAElCS,GAAc,EACdC,EAAO,IACPC,EAAc,EACdC,EAAO,GAwDX,SAASC,IAGP,IAFA,IAAMC,EAAS7B,EAAsB,EAAG,GAE/B8B,EAAI,EAAGA,EAAID,EAAQC,GAAK,EAAG,CAClC,IAAMC,EAAc/B,EAAsB,EAAG,IACvCgC,EAAehC,EAAsB,GAAI,GACzCiC,EAAMnB,SAASoB,cAAc,OAC7BC,EAAOnC,EAAsB,GAAI,IACvCiC,EAAIG,aACF,QADF,UAEYD,EAFZ,eAE+BA,EAF/B,sCAG4BJ,EAH5B,YAGmDC,EAHnD,wBAGuFzB,KAEvFK,EAAKI,SAASqB,YAAYJ,IAnE9BrB,EAAKC,YAAYyB,iBAAiB,SAgBlC,WACMd,EACFZ,EAAKC,YAAYuB,aAAa,WAAY,SAE1CZ,GAAc,EACdZ,EAAKC,YAAY0B,gBAAgB,YACjCX,IAMIY,EAAUC,aAAY,WAC1BhB,GAAQ,IACRb,EAAKK,MAAMyB,YAAcjB,EAAO,IACnB,IAATA,IACFkB,cAAcH,GAuCpB,WACE,KAAO5B,EAAKI,SAAS4B,YACnBhC,EAAKI,SAAS4B,WAAWC,SAlC3BC,GACAlC,EAAKM,MAAM6B,UAAUC,IAAI,WACzBpC,EAAKS,iBAAiBqB,YAAchB,KANjC,MARL,IACQc,KA3BR5B,EAAKI,SAASsB,iBAAiB,SAG/B,SAA2BW,GACzB,GAAIA,EAAMC,SAAWD,EAAME,cACzB,OAEF,IAAMC,EAAgBH,EAAMC,OAC5BxB,GAAe,EACfd,EAAKQ,OAAOsB,YAAchB,EAE1B0B,EAAcP,SACdjB,OAXFhB,EAAKO,WAAWmB,iBAAiB,SA0CjC,SAAoBW,GAClBtB,EAAOf,EAAKU,WAAW+B,MACvBzC,EAAKM,MAAM6B,UAAUF,OAAO,WAC5BjC,EAAKW,YAAY+B,mBACf,YADF,yBAE2B3B,EAF3B,aAE4CD,EAF5C,gBAIAuB,EAAMM,sB","file":"main.1c6d3244c59a72d804c5.js","sourcesContent":["function getRandomIntInclusive(min, max) {\r\n  min = Math.ceil(min);\r\n  max = Math.floor(max);\r\n  return Math.floor(Math.random() * (max - min + 1)) + min; //Максимум и минимум включаются\r\n}\r\n\r\nfunction getRandColor() {\r\n  var color = Math.floor(Math.random() * Math.pow(256, 3)).toString(16);\r\n  while (color.length < 6) {\r\n    color = '0' + color;\r\n  }\r\n  return '#' + color;\r\n}\r\nexport { getRandomIntInclusive, getRandColor };\r\n","import { getRandomIntInclusive, getRandColor } from './utils.js';\r\n\r\nconst refs = {\r\n  startButton: document.querySelector('.js-startButton'),\r\n  veiwPort: document.querySelector('.window-game'),\r\n  timer: document.querySelector('.timer'),\r\n  modal: document.querySelector('.lightbox'),\r\n  saveButton: document.querySelector('.js-modal__button'),\r\n  points: document.querySelector('.js-points'),\r\n  modalPointsField: document.querySelector('.modal-points'),\r\n  modalInput: document.querySelector('.form-control'),\r\n  recordsList: document.querySelector('.list'),\r\n};\r\nlet playingGame = false;\r\nlet time = 60000;\r\nlet totalPoints = 0;\r\nlet name = '';\r\n\r\nrefs.startButton.addEventListener('click', startGame);\r\nrefs.veiwPort.addEventListener('click', clickDestroyBoxes);\r\nrefs.saveButton.addEventListener('click', savePoints);\r\n\r\nfunction clickDestroyBoxes(event) {\r\n  if (event.target === event.currentTarget) {\r\n    return;\r\n  }\r\n  const currentBoxRef = event.target;\r\n  totalPoints += 1;\r\n  refs.points.textContent = totalPoints;\r\n\r\n  currentBoxRef.remove();\r\n  createBoxes();\r\n}\r\n\r\nfunction startGame() {\r\n  if (playingGame) {\r\n    refs.startButton.setAttribute('disabled', 'true');\r\n  } else {\r\n    playingGame = true;\r\n    refs.startButton.removeAttribute('disabled');\r\n    createBoxes();\r\n    startTimer();\r\n  }\r\n}\r\n\r\nfunction startTimer() {\r\n  const timerId = setInterval(() => {\r\n    time -= 1000;\r\n    refs.timer.textContent = time / 1000;\r\n    if (time === 0) {\r\n      clearInterval(timerId);\r\n      openModal();\r\n    }\r\n  }, 1000);\r\n}\r\n\r\nfunction openModal() {\r\n  clearAllboxes();\r\n  refs.modal.classList.add('is-open');\r\n  refs.modalPointsField.textContent = totalPoints;\r\n}\r\n\r\nfunction savePoints(event) {\r\n  name = refs.modalInput.value;\r\n  refs.modal.classList.remove('is-open');\r\n  refs.recordsList.insertAdjacentHTML(\r\n    'beforeend',\r\n    `<li class=\"list-item\">${name}..........${totalPoints} points</li>`,\r\n  );\r\n  event.preventDefault();\r\n}\r\n\r\nfunction createBoxes() {\r\n  const amount = getRandomIntInclusive(1, 3);\r\n\r\n  for (let i = 0; i < amount; i += 1) {\r\n    const positionTop = getRandomIntInclusive(5, 90);\r\n    const positionLeft = getRandomIntInclusive(90, 5);\r\n    const box = document.createElement('div');\r\n    const size = getRandomIntInclusive(10, 30);\r\n    box.setAttribute(\r\n      'style',\r\n      `width: ${size}px; height: ${size}px;\r\n     position: absolute; top: ${positionTop}%; left: ${positionLeft}%; background-color: ${getRandColor()}`,\r\n    );\r\n    refs.veiwPort.appendChild(box);\r\n  }\r\n}\r\n\r\nfunction clearAllboxes() {\r\n  while (refs.veiwPort.firstChild) {\r\n    refs.veiwPort.firstChild.remove();\r\n  }\r\n}\r\n"],"sourceRoot":""}